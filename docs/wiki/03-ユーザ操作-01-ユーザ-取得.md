# ユーザの取得 - users/get

## 概要

APIを使用してユーザ一覧を取得します。

## 対応バージョン

- プリザンター 1.3.13.0以降
  - このライブラリの制約によるもの

## 制限事項

- テナント管理者権限が必要です

## メソッド

```csharp
// パラメータ指定版
Task<ApiResponse<GetUsersResponse>> GetUsersAsync(
    int? offset = null,
    TimeSpan? timeout = null)

// リクエストモデル版
Task<ApiResponse<GetUsersResponse>> GetUsersAsync(
    GetUsersRequest request,
    TimeSpan? timeout = null)
```

## パラメータ

| 引数 | 型 | 必須 | 説明 |
|------|------|:----:|------|
| `offset` | int? | | 取得開始位置 |
| `timeout` | TimeSpan? | | リクエストタイムアウト |

## レスポンス

`GetUsersResponse` には以下のプロパティが含まれます：

| プロパティ | 型 | 説明 |
|------------|------|------|
| `StatusCode` | int | ステータスコード |
| `Message` | string? | メッセージ |
| `Response` | UsersResponseData? | レスポンスデータ |

`UserData` には以下の主要なプロパティが含まれます：

| プロパティ | 型 | 説明 |
|------------|------|------|
| `UserId` | int | ユーザID |
| `LoginId` | string? | ログインID |
| `Name` | string? | 名前 |
| `DeptId` | int | 組織ID |
| `UserCode` | string? | ユーザコード |
| `TenantManager` | bool | テナント管理者フラグ |
| `Disabled` | bool | 無効フラグ |

## 使用例

### 全ユーザを取得

```csharp
var result = await client.GetUsersAsync();

if (result.Data?.StatusCode == 200)
{
    foreach (var user in result.Data.Response?.Data ?? new List<UserData>())
    {
        Console.WriteLine($"ユーザ: {user.Name} ({user.LoginId})");
    }
}
```

### リクエストモデルを使用

```csharp
using PleasanterDeveloperCommunity.DotNet.Client.Models.Requests.Users;

var request = new GetUsersRequest
{
    Offset = 0,
    View = new View
    {
        ColumnFilterHash = new Dictionary<string, string>
        {
            { "Disabled", "false" }
        }
    }
};

var result = await client.GetUsersAsync(request);
```
