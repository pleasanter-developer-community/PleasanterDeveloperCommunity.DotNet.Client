# オプション設定

PleasanterClientでは、さまざまなオプション設定が可能です。

## APIバージョンの指定

各リクエストオブジェクトには`ApiVersion`プロパティがあり、使用するAPIバージョンを指定できます。

- **既定値**: 1.1
- **最小値**: 1.1（1.1未満を設定すると`ArgumentOutOfRangeException`がスローされます）
- **形式**: リクエストJSON内では`"1.1"`のような文字列形式でシリアライズされます

```csharp
// レコード取得時にAPIバージョンを指定
var request = new RecordRequest
{
    ApiVersion = 1.1f  // 既定値のため省略可能
};

var response = await client.GetRecordAsync(123456, request);
```

> **Note:** プリザンターのApi.jsonで1.0を設定している場合でも、このライブラリでは1.1以上のバージョンが強制されます。プリザンター側のApiVersionが1.1未満の場合、正常に動作しない可能性があります。

## タイムアウト設定

```csharp
using var client = new PleasanterClient(
    baseUrl: "https://example.com/pleasanter",
    apiKey: "your-api-key",
    defaultTimeout: TimeSpan.FromSeconds(30)
);
```

## プロキシ設定

```csharp
// プロキシ設定
using var clientWithProxy = new PleasanterClient(
    baseUrl: "https://example.com/pleasanter",
    apiKey: "your-api-key",
    proxySettings: ProxySettings.WithCustomProxy(new WebProxy("http://proxy:8080"))
);

// プロキシなし
using var clientNoProxy = new PleasanterClient(
    baseUrl: "https://example.com/pleasanter",
    apiKey: "your-api-key",
    proxySettings: ProxySettings.NoProxy
);
```

## SSL証明書検証の無効化

開発・テスト環境でのみ使用してください。

```csharp
using var clientDevMode = new PleasanterClient(
    baseUrl: "https://localhost/pleasanter",
    apiKey: "your-api-key",
    ignoreSslCertificateValidation: true
);
```

## デバッグ設定

リクエスト・レスポンスをログ出力します。

```csharp
using var clientDebug = new PleasanterClient(
    baseUrl: "https://example.com/pleasanter",
    apiKey: "your-api-key",
    debugSettings: new DebugSettings(
        logDirectory: @"C:\Logs",
        maskApiKey: true
    )
);
```
