# バイナリのアップロード - binaries/{siteId}/upload

## 概要

APIを使用してバイナリデータをアップロードします。

## 対応バージョン

- プリザンター 1.3.13.0以降
  - このライブラリの制約によるもの

## メソッド

```csharp
// Base64文字列版
Task<ApiResponse<UploadBinaryResponse>> UploadBinaryAsync(
    long siteId,
    string fileName,
    string base64Data,
    string? contentType = null,
    TimeSpan? timeout = null)

// バイト配列版
Task<ApiResponse<UploadBinaryResponse>> UploadBinaryAsync(
    long siteId,
    string fileName,
    byte[] fileData,
    string? contentType = null,
    TimeSpan? timeout = null)

// リクエストモデル版
Task<ApiResponse<UploadBinaryResponse>> UploadBinaryAsync(
    long siteId,
    UploadBinaryRequest request,
    TimeSpan? timeout = null)
```

## パラメータ

| 引数 | 型 | 必須 | 説明 |
|------|------|:----:|------|
| `siteId` | long | Yes | サイトID |
| `fileName` | string | Yes | ファイル名 |
| `base64Data` | string | Yes | Base64エンコードされたファイルデータ |
| `fileData` | byte[] | Yes | ファイルデータ（バイト配列） |
| `contentType` | string? | | コンテンツタイプ |
| `timeout` | TimeSpan? | | リクエストタイムアウト |

## レスポンス

`UploadBinaryResponseData` には以下のプロパティが含まれます：

| プロパティ | 型 | 説明 |
|------------|------|------|
| `Guid` | string? | アップロードされたファイルのGUID |

## 使用例

### ファイルをアップロード（バイト配列版）

```csharp
var fileBytes = await File.ReadAllBytesAsync("path/to/file.pdf");
var result = await client.UploadBinaryAsync(
    siteId: 123,
    fileName: "document.pdf",
    fileData: fileBytes,
    contentType: "application/pdf");

if (result.Data?.StatusCode == 200)
{
    Console.WriteLine($"アップロード完了。GUID: {result.Data.Response?.Guid}");
}
```

### ファイルをアップロード（Base64版）

```csharp
var fileBytes = await File.ReadAllBytesAsync("path/to/image.png");
var base64Data = Convert.ToBase64String(fileBytes);

var result = await client.UploadBinaryAsync(
    siteId: 123,
    fileName: "image.png",
    base64Data: base64Data,
    contentType: "image/png");
```

### リクエストモデルを使用

```csharp
using PleasanterDeveloperCommunity.DotNet.Client.Models.Requests.Binaries;

var request = new UploadBinaryRequest
{
    FileName = "document.xlsx",
    Base64 = Convert.ToBase64String(fileBytes),
    ContentType = "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"
};

var result = await client.UploadBinaryAsync(123, request);
```

## 関連項目

- [添付ファイルの取得（Base64形式）](08-バイナリ操作-01-バイナリ-取得(Base64))
- [バイナリストリームの取得](08-バイナリ操作-02-バイナリ-ストリーム取得)
- [レコードの取得（添付ファイル）](01-テーブル操作-05-レコード-取得(添付ファイル))

